

■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
+---------------------------------------------// Memo(2016.06) //----------------------------------------------------------+
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■


■■■■■■■■■■■■■■■■■■ 2016.06.01(수) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:00 ~ 21:00 ==> 수종 새벽에 열 많이 나서 병원 감. 곽차장 급성폐렴으로 입원(다음주 화요일에 출근)

- 휠라 코리아 차세대 통합ERP Prj[★]
- 기획, 구매, 생산, 협력업체 포탈 보완 작업  
1. 기획(사업계획기획): 4건
2. 구매: 4건  
3. 강봉주: 이전 기획, 구매, 생산, 협력업체 포탈 기획자
==============================================================================================================
 
- 기획 보완 작업  ==> 보완 예정 건수: 4건
1. PN-001 ITEM조회(/PN_ItemInqy.xml, R) ==> 완료(보완 예정)
2. PN-002 사이즈조회(/PN_SizeInqy.xml, R) ==> 완료(보완 예정)
3. PN-003 디자인샘플정보(/PN_DsgnSmplInfr.xml, CRUD)  ==> CRUD 프로그램(제외)
3. PN-004 디자인샘플현황(/PN_DsgnSmplStat.xml, R)  
4. PN-005 디자인샘플납품요청(/PN_DsgnSmplDlvrAsk.xml, CR) ==> 개발 중
5. PN-006 디자인샘플입고확정(/PN_DsgnSmplInFix.xml, CRUD) ==> 개발 중

6. PN-007 디자인샘플정산(/PN_DsgnSmglSttl.xml, CRUD)  ==> 개발 중
7. PN-009 디자인샘플진행현황(/PN_DsgnSmplPrgsStat.xml, C) ==>  완료(보완 예정)
8. PN-010 스타일정보(/PN_StylInfr.xml, R)    ==> 개발 중
9. PN-016 QR Alert기준(/PN_QrAlertStdInput.xml, CRUD) ==> 개발 중
10. PN-019 거래처등록요청(/PN_CstrInputAsk.xml, CRUD)   ==> CRUD 프로그램(제외)

11. PN-021 거래처조회(/PN_CstrInqy.xml, R) ==> 완료(보완 예정)
12. PN-050 거래처등록승인(/PN_CstrAprv.xml, CRU)   ==> CRUD 프로그램(제외)
13. PN-011 확정소비자가 등록(/PN_FnlCnsmPrceInput.xml, CRUD) ==> CRUD 프로그램(제외)
14. PN-012 KAN코드등록(/PN_KanCdInput.xml, CRUD):   ==> CRUD 프로그램(제외)
--------------------------------------------------------------------------------------------------------
 
- 구매 보완 작업 ==> 보완 예정 건수: 4건
1. PO-001 자재코드(/PO_MtrlCd.xml, CRUD): ==> CRUD 프로그램(제외)
2. PO-002 자재창고관리(/PO_MtrlWrhsMngm.xml, R):   ==> 개발 중
3. PO-003 BOM접수및소요량(/PO_BomSpecAccper.xml, CRUD)  ==> CRUD 프로그램(제외)
4. PO-004 자재소싱진행현황(/PO_MtrlSrcngPrgsStat.xml, R):   ==> 완료(보완 예정)
5. PO-005 자재발주등록(/PO_MtrlOrdrInput.xml, CRUD): ==> CRUD 프로그램(제외)

6. PO-006 자재발주미발주현황(/PO_MtrlNotOrdrStat.xml, R): ==> 완료(보완 예정)
7. PO-007 자재발주현황(/PO_MtrlSrcngPrgsStat.xml, C):  ==> 완료(보완 예정)
8. PO-008 자재발주수정취소(/PO_MtrlOrdrUpdtCanc.xml, R):  ==> CRUD 프로그램(제외)
9. PO-009 자재발주수정취소현황(/PO_MtrlOrdrUpdtCancStat.xml, R):  ==> 완료(보완 예정)
10. PO-010 협력업체자재입고예정확정(/PO_VndrMtrlWinscFix.xml, R) ==> 개발 중

11. PO-011 자재입고반송요청(/PO_MtrlInInrtnAsk.xml, CRUD) ==> 개발 중
12. PO-012 기간별자재입고현황(/PO_TermLyMtrlInStat.xml, R) ==> 개발 중
13. PO-013 자재입고완료등록(/PO_MtrlInCmplInput.xml, CRUD) ==> 개발 중
14. PO-014 자재입고정산(/PO_MtrlInSttl.xml, CRUD) ==> 개발 중
15. PO-015 자재입고정산취소(/PO_MtrlInSttlCanc.xml, CRUD) ==> 개발 중
==============================================================================================================

- 기획 보완 작업  ==> 보완 예정 건수: 5건
1. PN-001 ITEM조회(/PN_ItemInqy.xml, R) ==> 완료(보완 예정) --> 완료 @@@
2. PN-002 사이즈조회(/PN_SizeInqy.xml, R) ==> 완료(보완 예정) --> 완료 @@@  
7. PN-009 디자인샘플진행현황(/PN_DsgnSmplPrgsStat.xml, C) ==> 완료(보완 예정) ==> 샘플스타일 팝업 작업 요망(DB 연결)
--> 샘플스타일 input 박스 입력 조건 수정(숫자, 대문자만 입력)
11. PN-021 거래처조회(/PN_CstrInqy.xml, R) ==> 완료(보완 예정) 
--> 거래처코드 엔터를 치면 조회가 됨: 에러
--> 휴폐업구분 선택을 하면 Grid 데이타가 0건이 됨: 에러
--> 거래상태 선택을 하면 Grid 데이타가 0건이 됨: 에러
13. PN-011 확정소비자가 등록(/PN_FnlCnsmPrceInput.xml, CRUD) ==> CRUD 프로그램(제외)
==============================================================================================================

- 웹스퀘어 기술 지원 회의(13:00 ~ 13:40)
1. 공통팀, 웹스퀘어 직원: 인스웨이브 기술지원팀 정윤경(promisewing@inswave.com)
2. 자료 받음
 1) WebSquare_Server.zip
 2) Template_Prj[ect_Doc_pdf.zip
==============================================================================================================

- prjtm2 서버(websquare5에서) 설치 및 환경 셋팅
1. websquare 템플릿 아이디비번  ==> 100001 /1234
http://127.0.0.1:8080/prjtm2/websquare/websquare.jsp?w2xPath=/prjtm2/main/login.xml ==> tomcat으로 연결
http://127.0.0.1:8084/prjtm2/websquare/websquare.jsp?w2xPath=/prjtm2/main/main.xml  ==> eclipse로 연결
http://127.0.0.1:9090/prjtm/websquare/websquare.jsp?w2xPath=/prjtm/main/login.xml   ==> 에러남
==============================================================================================================

[토드] Toad로 엑셀 데이타를 테이블에 import 하여 저장하기(Toad 엑셀)
http://zzznara2.tistory.com/241

[Toad for Oracle] 토드에서 엑셀파일 익스포트(export data from a table into an Excel file) 
http://h5bak.tistory.com/207
==============================================================================================================

- 여러 파일 찾기(I): Edit Plus에서
1. 검색(S) > 여러 파일 찾기(I) > 여러 파일 찾기(새창)
 1) 찾을 말(I): 기준지
 2) 파일 종류: *.txt
 3) 제외: *.exe;*.zip;*.svn-base;*.exe;*.jar
 3) 폴더(O): D:\01. TAMA Work(USB 64G)\01. Memo
 --> 하위 폴더 포함(S): 체크 
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.02(목) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:00 ~ 21:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★]
- 기획, 구매, 생산, 협력업체 포탈 보완 작업(총 8건) 박광혁 사원에게 인수인계함. 
==============================================================================================================

- 구매 보완 작업 ==> 보완 예정 건수: 4건 
4. PO-004 자재소싱진행현황(/PO_MtrlSrcngPrgsStat.xml, R):   ==> 완료(보완 예정)  
--> 엑셀다운로드 기능 추가
6. PO-006 자재발주미발주현황(/PO_MtrlNotOrdrStat.xml, R): ==> 완료(보완 예정)
--> 
7. PO-007 자재발주현황(/PO_MtrlSrcngPrgsStat.xml, C):  ==> 완료(보완 예정) 
9. PO-009 자재발주수정취소현황(/PO_MtrlOrdrUpdtCancStat.xml, R):  ==> 완료(보완 예정) 
==============================================================================================================
 
- 로컬 서버
http://127.0.0.1:8081/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#none
--------------------------------------------------------------------------------------------------------

- prjtm2 서버(websquare5에서)
1. websquare 템플릿 아이디비번  ==> 100001 /1234
http://127.0.0.1:8080/prjtm2/websquare/websquare.jsp?w2xPath=/prjtm2/main/main.xml
==============================================================================================================

- 사용자관리
1. 사용자관리 비밀번호 초기화 이미지 등록
==============================================================================================================

- 게시판 개발: 게시판 관련 테이블
CM_BLLT_ATTC_FL (첨부파일) 
CM_BLLT_D (디테일) 
CM_BLLT_M (마스터) 
==============================================================================================================

- TOAD 한글 설정
1. View > Toad Options(클릭) > Options(새창)에서
Editor > Display(클릭) > Fonts  Editor(클릭) > 글꼴 --> 돋움: 10으로 선택
--------------------------------------------------------------------------------------------------------

- TOAD 왼쪽 메뉴 배치 
1. View > Object Palette(클릭): 왼쪽 메뉴에 배치됨. ==> object Palette를 마우스로 끌어서 왼쪽 중간 아래와 천천히
끌면 접선이 생기면 마우스를 놓으면 왼쪽 메뉴에 붙여짐
==============================================================================================================

- 개발 서버 반영 시각
1. 8시, 12시, 18시, 24시
==============================================================================================================

- 기업은행 퇴직연급 수령(12시)
1. 실제 지급 급액: 4,274,018원 ==> 기업은행 서초3동지점에서 처리함.
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.03(금) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 12:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 비밀번호 초기화 이미지 등록
==============================================================================================================

- work space 못 가져옴(websquar5e 실행시) 
C:\FilaKoreaERP\websquare_5_32bit 
1. 원인: RECENT_WORKSPACES를 FilaKoreaERP_51\\workspac로 잡음.
2. 조치: RECENT_WORKSPACES를 FilaKoreaERP\\workspac로 변경, FilePath 변경

-/org.eclipse.ui.ide.prefs 파일에서(C:\FilaKoreaERP\websquare_5_32bit\configuration\.settings) 
#Thu Jun 02 11:34:03 KST 2016
RECENT_WORKSPACES_PROTOCOL=3
MAX_RECENT_WORKSPACES=5
SHOW_WORKSPACE_SELECTION_DIALOG=false
eclipse.preferences.version=1
RECENT_WORKSPACES=C\:\\FilaKoreaERP_51\\workspace\nC\:\\WebSquare_Server\\workspace\nC\:\\FilaKoreaERP
\\workspace_link\nC\:\\FilaKoreaERP\\websquare_5_win32\\workspace 
==> C\:\\FilaKoreaERP_51\\workspace\n 제거할 것
------------------------------------------------------------------------------------------------------

-/com.inswave.websquare.udcfilepath.prefs 파일에서
FilePath/FilePath=C\:\\WebSquare_Server\\workspace\\prjtm2\\.settings\\udc\\udc.xml
==> FilePath/FilePath=C\:\\FilaKoreaERP\\workspace\\FilaKoreaERP\\FilaKoreaERP.web-resources\\src\\main\\webapp\\.settings\\udc\\udc.xml
==============================================================================================================

- 소스 에러
1. 현상: cmCommon.bindTabToSrchBtn( "ibx_cdNm"); // 탭인덱스 (마지막 인 버튼을 ibx_usrNm으로 변경)
11:23:42.264 00001 000861 websquare] WebSquare.BootLoader.globalEval: Error occurs during the execution.  
* message     : Cannot read property 'getUserData' of undefined
2. 원인: 
==============================================================================================================

- 포항행
11:40 중식(국립국악원)
12:05 휠라 코리아 개발실 출발
12:10 15번 마을버스 -> 사당역 -> 서울역(4호선은 KTX 승강장까지 많이 걸어야 함)
12:45 루옌 만남
13:00 서울역 출발(KTX-산천: 공간이 넓고 퀘적함)
15:30 포항역 도착
15:40 택시비(포항역 -> 포항집)
16:00 포항집 도착
17:00 감기 진료(수종, 엄마): ABC김광우 소아과
15:30 귀가 
19:00 석식: 다리에 쥐가 나서 어머님이 많이 걱정함.
20:00 택시비(포항집 -> 대동 우방): 큰누나 미장원 방문[꾀꼬리 미용실: 대동우방 상가 근처]
20:30 머리 정리(수종이는 고모하고 안 친해서 울고 해서 못 함)
21:30 귀가 ==> 어머니에게 맛있는 거 해달라고 10만원 줌
22:00 취침
==============================================================================================================

- 포항행(KTX, 13:00)
1. 2016.06.03(금) 13:00~ 15:30, 서울 -> 포항, KTX 809(11호차 10C[순방향], 10D[순방향]), 96,4000원(5%할인) ==> 태만, 루옌, 수종  
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.04(토) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 12:00 ==> 일심이 결혼식

- 주말
09:00 기상
09:30 조식
09:30 다리 쥐 치료(침, 뜸): 청운한의원  ==> 다리 쥐나는 현상은 다리에 피가 몰려서 그렇다고 함(평소에
       운동하기 전에 준비 운동 많이 하라고 함)	
10:30 귀가
12:00 집 출발
12:20 큰누나 미장원
12:50 UA 컨벤션(포항시청 근처) 도착(큰 누나 차)
13:10 5층 예식장 도착 ==> 정식(딸 정은 부부), 용식이 아제, 순자 고모 --> 부주 10만원 함.
13:40 예식(일심이 결혼식): 교회식으로 함
13:50 중식(3층 부폐)
16:00 종료 
16:30 창일이집(포항시 남구 대도동 89-4 축복웰빙타운 201호: 상대초교 근처)
17:30 석식(외숙모집)  ==> 용돈(창일이 아들[예준], 딸[예람]): 2만원
18:30 종료 ==> 외숙모집에게 3만원 받아서 옴.
19:30 다이소(수종 고모가 수종이에게 장난감 많이 사줌)
19:50 귀가
22:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.05(일) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 12:00 ==> 

- 일요일
09:00 기상
09:30 조식
11:10 집출발
11:20 택시(포항집 -> 여성회관): 자두 따러 감
11:50 홍승표 만남: 커피 얻어 먹음
12:20 밭에 가서 안 익은 자두 약간 따옴(루옌)
12:50 택시(여성회관 -> 포항집)
13:00 귀가
13:30 중식
17:00 큰누나 도착
17:00 루옌 토와집에 감
18:50 큰누나 차탐
20:00 석식(순두부 찌게): 시내 식당 --> 큰누나가 쏨
21:00 귀가
22:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.06(월) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 12:00 ==> 현충일

- 현충일
09:00 기상
09:30 조식 ==> 어머니가 루옌에게 5만원 줌
10:10 집출발
10:20 포항역 도착
10:43 포항역 -> 서울역
13:12 서울역 도착
14:00 귀가
20:00 석식
22:00 취침
01:00 수종 갑자기 아파서 깸
==============================================================================================================
 
- 서울행(KTX, 10:43)
1. 2016.06.06(월) 10:43 ~ 13:12, 포항 -> 서울, KTX 811(17호차 1C[순방향], 1D[순방향]), 108,00원 ==> 태만, 루옌, 수종 
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.07(화) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:00 ~ 21:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 조회
==============================================================================================================

- get, set 설정
var sUsrId = "ADMIN01"; 
$w.log("[/CM_UsrMngm.xml] [doInit()] ==> [화면 초기화 정의] [sUsrId]"+ sUsrId );

ibx_usrId.setValue(sUsrId); 
$w.log("[/CM_UsrMngm.xml] [doInit()] ==> [sUsrId]"+ sUsrId +"[ibx_usrId.getValue()]"+ ibx_usrId.getValue() );

dma_requestData.set("usrId", ibx_usrId.getValue());    // 사용자 ID
 $w.log("[/CM_UsrMngm.xml] [doInit()] ==> [화면 초기화 정의] [dma_requestData.ibx_usrId()]"+ dma_requestData.get("usrId") );		  
==============================================================================================================

/**
 * 조회 후 callback 이벤트
 */ 
scwin.sbm_usrMngmList_submitdone = function(e) {
	//$w.log("[/CM_UsrMngm.xml] [sbm_usrMngmList_submitdone()] ==> [조회후 callback 이벤트] [e.responseText]"+ 
	e.responseText); 	// e.responseBody, e.responseJSON
	
	$w.log("[/CM_UsrMngm.xml] [sbm_usrMngmList_submitdone()] ==> [조회 후 callback 이벤트] [grd_usrMngmList.getTotalRow()]"+ 
	grd_usrMngmList.getTotalRow() +"[dlt_usrMngmList.getAllData()]"+ dlt_usrMngmList.getAllData() ); 
	// dlt_usrMngmList.getAllXML(), dlt_usrMngmList.getAllJSON()
	
	if (grd_usrMngmList.getTotalRow() > 0) {
		grd_usrMngmList.setFocusedCell( 0, 0, false );
	} 
};
==============================================================================================================

- 에러 발생
1. 현상:
	[/cmCommon.js] [_commExecuteSubmission()] ==> [★★★★★★] [01. 조회 서브미션 실행] [sbmId]sbm_usrMngmList[sbmType]search
15:17:32.871 00001 002204 websquare] WebSquare.ModelUtil.executeSubmission : sbm_usrMngmList
15:17:32.877 00006 002210 websquare] WebSquare.layer.showProcessMessage [true]
15:17:32.898 00021 002231 websquare] /cmtUsr/getUsrMngmList.do
15:17:33.014 00116 002347 websquare] [WebSquare.uiplugin.grid.setJSON] data is null	===> 에러 발생 @@@@
15:17:33.014 00000 002347 websquare] submission complete. Status[200] sbm_usrMngmList
15:17:33.014 00000 002347 websquare] submission id[sbm_usrMngmList] start[15:17:32:872] end[15:17:33:14] duration[142ms]

/**
 * 공통 - 사용자관리조회 
 */@RequestMapping("/cmtUsr/getUsrMngmList.do")
public ModelAndView getUsrMngmList(Map<String, Object> param) {
	LOGGER.debug("\n\n[/CommCodeController.java] [getUsrMngmList()] @@@@@ ===> [TEST_01]" );  

	ModelAndView mav = new ModelAndView("wqView");
	
	@SuppressWarnings("unchecked")
	Map<String, Object> paramMap = (Map<String, Object>)param.get("dma_requestData");
	List<Map<String, Object>> list = service.getUsrMngmList(paramMap);
	
	mav.addObject("dlt_usrMngmList", list);  // 조회결과 lis 맵핑(getUsrMngmList --> getUsrMngmList로 수정)  @@@@
	LOGGER.debug("\n\n[/CommCodeController.java] [getUsrMngmList()] @@@@@ ===> [조회결과 list]"+  list );  
	
	return mav;
}
==============================================================================================================

- 이클립스 실행 에러
1. 현상:
6월 07, 2016 7:16:53 오후 org.apache.catalina.core.StandardContext listenerStart
심각: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in file
[C:\FilaKoreaERP\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\wtpwebapps\FilaKoreaERP.SCMSystem\WEB-INF\classes
\configuration\transaction-config.xml]: Invocation of init method failed; nested exception is org.springframework.core.NestedIOException: Failed to parse 
config resource: class path resource [environment/pc/mybatis-mapperConfig.xml]; nested exception is org.apache.ibatis.builder.BuilderException: 
Error parsing SQL Mapper Configuration. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException:
Could not resolve type alias 'kr.co.fila.common.support.CamelCaseMapWrapperFactory'.  Cause: java.lang.ClassNotFoundException:
Cannot find class: kr.co.fila.common.support.CamelCaseMapWrapperFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
2. 원인: DB 쿼리 에러
3. 조치:
AND ROWNUM < 11  ==>	AND ROWNUM  <![CDATA[<]]> 11 로 변경
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.08(수) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:15 ~ 21:00 ==> 자리 이동(기획, 구매 파트)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 등록, 수정, 삭제
==============================================================================================================

- 휠라 코리아 프로젝트 IP 주소 설정(IP 설정): 3번째 자리 이동 @@@@
1. IP 주소: 192.168.133.59
2. S/M: 255.255.255.0
3. GW: 192.168.133.202
4. 기본 DNS: 168.126.63.1
 보조 DNS: 168.126.63.2 
==============================================================================================================

- Websquare5 로컬 환경 설정 @@@@
A. SCM 설정 
1. New > Prj[ect > New Prj[ect(새창) 
 WebSquare > WebSquare Prj[ect
1) Prj[ect name: FilaKoreaERP.SCMSystem.webapp
2) Location: C:\FilaKoreaERP\workspace\FilaKoreaERP\FilaKoreaERP.SCMSystem\src\main\webapp
2. /FilaKoreaERP.SCMSystem.webapp
: 마우스 우 클릭 > Properties > Properties (새창)
WebSquare > Context Root(새창)
 1) Context Root: / 
WebSquare > Preview Setting(새창)
 2) WebSquare Entry Point: http://localhost:8081/websquare/websquare.html
---------------------------------------------------------------------------------------------

B. web-resources(공통) 설정 
1. New > Prj[ect > New Prj[ect(새창) 
 WebSquare > WebSquare Prj[ect
1) Prj[ect name: FilaKoreaERP.web-resources
2) Location: C:\FilaKoreaERP\workspace\FilaKoreaERP\FilaKoreaERP.web-resources\src\main\webapp 
2. /FilaKoreaERP.web-resources: 마우스 우 클릭 > Properties > Properties (새창)
WebSquare > Context Root(새창)
 1) Context Root: / 
WebSquare > Preview Setting(새창)
 2) WebSquare Entry Point: http://localhost:8081/websquare/websquare.html  
---------------------------------------------------------------------------------------------

C. POS 설정  
1. New > Prj[ect > New Prj[ect(새창) 
 WebSquare > WebSquare Prj[ect
1) Prj[ect name: FilaKoreaERP.POSSytem.webapp
2) Location: C:\FilaKoreaERP\workspace\FilaKoreaERP\FilaKoreaERP.POSSytem\src\main\webapp
2. /FilaKoreaERP.POSSytem.webapp
: 마우스 우 클릭 > Properties > Properties (새창)
WebSquare > Context Root(새창)
 1) Context Root: / 
WebSquare > Preview Setting(새창)
 2) WebSquare Entry Point: http://localhost:8082/websquare/websquare.html
---------------------------------------------------------------------------------------------

D. SRM 설정  
1. New > Prj[ect > New Prj[ect(새창) 
 WebSquare > WebSquare Prj[ect
1) Prj[ect name: FilaKoreaERP.SRMystem.webapp
2) Location: C:\FilaKoreaERP\workspace\FilaKoreaERP\FilaKoreaERP.SRMSystem\src\main\webapp
2. /FilaKoreaERP.SRMSystem.webapp
: 마우스 우 클릭 > Properties > Properties (새창)
WebSquare > Context Root(새창)
 1) Context Root: / 
WebSquare > Preview Setting(새창)
 2) WebSquare Entry Point: http://localhost:8083/websquare/websquare.html 
==============================================================================================================

- 공통 등록
1. 사용자구분(0005): 본사(01), 매장(02), 협력사(03)
http://localhost:8081/websquare/websquare.html?w2xPath=/wqui/cm/CM_CmmCdMngm.xml
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.09(목) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:00 ~ 21:00 ==> 회사 미니 선풍기 청소(드라이버 가져옴)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 기획 ==> 사용자관리(CM-1100-15-1) 화면_보고서 정의서 작성 ==> 이진우 이사님에게 메일 보냄
/FILA-AD-CM-05(화면_보고서 정의서)_공통_V1.2.pptx 파일에서
==============================================================================================================

- eclipse 시작 에러([02] FilaKoreaERP.POSsystem-8082 Servers > 시작)
1. 현상: The JRE could not be found 에러 발생
2. 원인: Runtime Environment가 안 잡혀 있음
3. 조치: [02] FilaKoreaERP.POSsystem-8082 Servers(더블 클릭) > Overview(새창
Runtime Environment: Apache Tomcat v7.0로 되어 있어야 함.
==============================================================================================================
 
- Websquare에서 이미지 깨짐
1. Websquare > /FilaKoreaERP.POSSytem.webapp 
 1) resources(마우스 우 클릭) > Resource(새창) 
  가. Location: resources[Edit(클릭)]
  나. Edit Link Location(새창) > Variable(클릭) > Select Path Varible(새창) > Name: resources(선택: OK)
==============================================================================================================

- 개발서버 url 
1. scm
http://172.16.41.114:10090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml

2. pos
http://172.16.41.114:11090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml

3. srm
http://172.16.41.114:12090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml 
==============================================================================================================

- 공통코드 조회 ==> 고객가입등록(/SP_CustPopInput.xml)에서
var codeParaArr = [];  // jason array
// resizing
cmCommon.setWindowResize(["scm-container"], true); 
//성별코드 
codeParaArr.push( { "dlId": "dlt_genCd", "grpCd": "033", "displayType":"3", "jobGbn":"CS" } ); 
cmCommon.getCommonCode( codeParaArr,"2" );  // 공통코드 조회
==============================================================================================================

- 사용자 중복 체크 @@@
scwin.btn_joinChk_onclick = function() {
	///spCustInput/getCustInfrDplcCnt.do
	
	var rowIdx = grd_custInputList.getFocusedRowIndex();
	var custNm = dlt_custInputList.getCellData( rowIdx, "custNm" );
	var hpNo = dlt_custInputList.getCellData( rowIdx, "hpNo" );
	
	dma_custDplcCond.set( "custNm" , custNm );
	dma_custDplcCond.set( "hpNo" , hpNo );
	
	scwin.isDplcChkYn = true;
	scwin.isJoinDplcYn = false;
	
	txt_msg.setValue( "" );
	
	//고객 가입여부 조회
	cmCommon.searchExecuteSbm( "sbm_jnngInfo", true );
};
-------------------------------------------------------------------------------------------
 
<xf:submission id="sbm_jnngInfo" ref="data:json,dma_custDplcCond" target="data:json,dma_jnngInfo"
	action="/spCustInput/getCustInfrDplcCnt.do" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace=""
	errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sbm_jnngInfo_submitdone"
	ev:submiterror="">
</xf:submission>

/**
 * 고객 가입여부 조회 후 처리
 */
scwin.sbm_jnngInfo_submitdone = function(e) {
	var jnngCnt = dma_jnngInfo.get( "cnt" );
	
	if( jnngCnt < 1 ){
		scwin.isJoinDplcYn = true;
		//alert("등록된 가입정보가 없습니다. 등록을 진행하여 주십시오.");
		txt_msg.setValue( "가입이 가능한 상태 입니다." );
	}else{
		scwin.isJoinDplcYn = false;
		alert(cmCommon.formattingMessage(FILAErpMessage.WRN_0011, "가입정보가 이미 존재합니다. 가입정보"));	
		//WRN_0011: "{0}(을)를 확인해 주십시오."
	}
}; 
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.10(금) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:05 ~ 21:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 수정
 1) 전화번호(3개의 필드로 나누어서 저장)
==============================================================================================================
 
-- 01. 사용자 관리 정보 수정   @@@@@@@@@@@@@  
UPDATE  CM_USR A
-- SET A.MNGR_YN = 'Y'        -- 관리자여부 
-- SET A.USR_KD = '01'      -- 사용자구분 
-- SET A.EML_ADDR_DIV1_2 = 'korea'        -- 이메일주소-1-id
  --  , A.EML_ADDR_DIV2_2 = 'softone.co.kr'        -- 이메일주소-1-도메인주소
 
  SET A.TEL_NO_DIV1_2 = '02'        -- 전화번호-1-지역번호
    , A.TEL_NO_DIV2_2 = '768'        -- 전화번호-1-국번
        , A.TEL_NO_DIV3_2 = '3333'        -- 전화번호-1-번호
    
    --    ,A.TEL_NO_DIV1_1, A.TEL_NO_DIV2_1, A.TEL_NO_DIV3_1
     --             ,A.TEL_NO_DIV1_2, A.TEL_NO_DIV2_2, A.TEL_NO_DIV3_2  
WHERE 1 = 1
AND A.USR_ID =  'ADMIN01'       -- 사용자ID(tamario, 2074028)
;  
==============================================================================================================
 
- Oracle 전화번호 분리 Fuction 
create or replace function get_tel (inputstr in varchar2, div_val in varchar2, data_order in number)
return varchar2 
is
r_val varchar2(200);
begin
    IF data_order = 1 THEN
     r_val := substr(inputstr,0, instr(inputstr,'-',1,1)-1);
    ELSIF data_order = 2 THEN
     r_val := substr(inputstr,instr(inputstr,'-',1,1)+1,instr(inputstr,'-',1,2)-instr(inputstr,'-',1,1)-1);
    ELSIF data_order = 3 THEN
     r_val := substr(inputstr,instr(inputstr,'-',1,2)+1,15);
    ELSE
     r_val := '';
    END IF;
    return r_val;
end get_tel;
/
==============================================================================================================
 
-- 1번째 문열 조회 @@@@  ==> 010
SELECT substr( '010-3072-0808' ,0, instr( '010-3072-0808' ,'-',1,1)-1)
FROM DUAL   
--// 문자열1('010-1111-0898)에서 4번째 위치부터 4글자를 잘라 리턴  ==> 0898
 ;
---------------------------------------------------------------------------- 
  
 -- 2번째 문자열 조회 @@@@ ==> 3072
SELECT substr( '010-3072-0808', instr( '010-3072-0808','-',1,1)+1, instr( '010-3072-0808','-',1,2)-instr( '010-3072-0808','-',1,1)-1)
FROM DUAL  
 ;
---------------------------------------------------------------------------- 
  
 -- 3번째 문자열 조회 @@@@ ==> 0808
SELECT  substr( '010-3072-0808',instr( '010-3072-0808','-',1,2)+1,15)
FROM DUAL  
; 
==============================================================================================================
 
-- Oracle 이메일 주소 분리(22시, 집)
--- INSTR: 문자열을 찾아 내서 0이나 1을 값으로 반환  ==> SELECT INSTR('123456', '12')  FROM DUAL ;

-- 1번째 이메일 주소  조회 @@@@  ==>  test
SELECT  SUBSTR('test@naver.com', 0, INSTR( 'test@naver.com','@')-1) AS DOMAIN
FROM DUAL  
; 
 
SELECT INSTR( 'test@naver.com','@')-1 AS "2_종료 위치"
FROM DUAL  
;
--------------------------------------------------------------------------------------------------
 
-- 2번째 도메인 조회 @@@@ ==> naver.com  
SELECT  SUBSTR('test@naver.com', INSTR('test@naver.com','@')+ 1, LENGTH(RTRIM('test@naver.com'))) AS DOMAIN
FROM DUAL  
; 

SELECT INSTR('test@naver.com','@')+ 1 AS "1_시작 위치"
FROM DUAL  
;  

SELECT LENGTH(RTRIM('test@naver.com'))  AS "2_종료 위치"
FROM DUAL  
;  
==============================================================================================================
 
- 전화번호 수정(/UsrMngm_sqlmap.xml 파일에서)
 <update id="updateUsrMngmInfo" parameterType="HashMap">
UPDATE /* kr.co.fila.cm.dao.UsrMngmDAO.updateUsrMngmInfo - 사용자관리 수정(/UsrMngm_sqlmap.xml) */  
CM_USR
SET 	USR_NM = #{usrNm}      		-- 사용자명 
		, USR_KD = #{usrKd} 	 		--사용자구분 
		, EML_ADDR_DIV1_1 = substr(#{emailAddr1}, 0, INSTR(#{emailAddr1}, '@')-1)	 		--이메일주소-1-id 
		, EML_ADDR_DIV2_1 = substr(#{emailAddr1}, INSTR(#{emailAddr1}, '@')+ 1, LENGTH(RTRIM(#{emailAddr1})))		--이메일주소-1-도메인주소
		, EML_ADDR_DIV1_2 = substr(#{emailAddr2}, 0, INSTR(#{emailAddr2}, '@')-1)	 		--이메일주소-2-id
		, EML_ADDR_DIV2_2 = substr(#{emailAddr2}, INSTR(#{emailAddr2}, '@')+ 1, LENGTH(RTRIM(#{emailAddr2})))		--이메일주소-2-도메인주소
		 
		, TEL_NO_DIV1_1 = substr(#{hpNo} ,0, instr(#{hpNo} ,'-',1,1)-1)								--전화번호-1-지역번호(휴대폰)
		, TEL_NO_DIV2_1 = substr(#{hpNo}, instr(#{hpNo},'-',1,1)+1, instr(#{hpNo},'-',1,2)-instr(#{hpNo},'-',1,1)-1)	 	--전화번호-1-국번
		, TEL_NO_DIV3_1 = substr(#{hpNo}, instr(#{hpNo},'-',1,2)+1,15)								--전화번호-1-번호 

		, TEL_NO_DIV1_2 = substr(#{telNo} ,0, instr(#{telNo} ,'-',1,1)-1)								--전화번호-2-지역번호(내선)
		, TEL_NO_DIV2_2 = substr(#{telNo}, instr(#{telNo},'-',1,1)+1, instr(#{telNo},'-',1,2)-instr(#{telNo},'-',1,1)-1)	 	--전화번호-2-국번
		, TEL_NO_DIV3_2 = substr(#{telNo}, instr(#{telNo},'-',1,2)+1,15)								--전화번호-2-번호 

		, UPDT_PG_ID = #{GV_PROGRAM_ID} 	 --수정프로그램ID  
		, UPDT_ID = #{GV_USR_ID}  				--수정자 
		, UPDT_DTTM = SYSDATE  					--수정일시 
WHERE 1=1
	AND USR_ID = #{usrId}    -- 사용자ID
 </update>  
==============================================================================================================
 
- 오라클 함수 모음 
                 LOWER             모든 문자를 소문자로
                 UPPER              모든 문자를 대문자로
                 INITCAP            첫 글자는 대문자,나머지는 소문자로
                 CANCAT            첫 번째 문자와 두 번째 문자를 연결
                 SUBSTR            문자의 길이를 리턴할 때
                 LENGTH            문자의 길이를 리턴할 때
                 NVL                  널값을 다른 값으로 대체할 때
                 NVL2                조건에 의해 널값을 다른 값으로 대체할 때
                  SUBSTR            특정 문자의 문자열중 필요 부분만 선별하여 사용
    문자       RTRIM               서브 스트림의 정확한 위치와 길이를 요구(오른쪽)
    함수       LTRIM               서브 스트림의 정확한 위치와 길이를 요구(왼쪽)
                 RPAD                문자열을 제외한 공간에 지정한 문자열로 대체(오른쪽)
                 LPAD                문자열을 제외한 공간에 지정한 문자열로 대체(왼쪽)
                 TRANSLATE       첫 문자는 탐색집합의 첫 문자로 대체(2번째도 동일)
                 REPLACE          특정 문자열을 다른 문자열로 대체
                 SOUNDX            같은 단어 또는 유사한 사운드 단어를 음성학적으로
                 LENGTH            문자의 실제 길이를 변환할 때
                 LENGTHB          문자열의 실제 길이를 변환할 때
                 INTSTR             문자열 내의 특정 스트림의 위치
                 NULLIF             조건이 같으면 NULL,다르면 지정된 값을 리턴할 때
                 COALESCE       조건에 따라 여러 가지 값을 리턴할 때
==============================================================================================================
 
■■■■■■■■■■■■■■■■■■ 2016.06.11(토) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==> 장인 입국(07:55, 인천공항)

- 주말
05:00 기상
05:10 유로2016 개막전(04시, 프랑스) ==> 프랑스 1:0 루마니아
06:00 종료
06:20 집출발
06:30 대림역 -> 인천공항
07:50 인천공항 1층 입국장 D 출구
08:30 장인 나옴
08:50 6003번 리무진 버스(12B: 9천원): 김밥, 떡, 물
10:00 대림역 
10:10 귀가
10:50 진료(서울가정의학과의원): 수종 감기
11:10 조제(래미안 나나 약국): 수종 감기(장난감 자동차 구입)
10:10 귀가
12:00 중식
13:00 낮잠
15:00 기상
17:00 석식
23:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.12(일) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==>  새벽에 비 많이 옴

▦ 조기축구
06:00 기상
07:20 자전거(문영APT -> 도신초등학교)
07:30 도신초등학교
07:40 운동장 정리 ==> 새벽에 비 많이 와서 물 웅덩이 생김 
08:20 종료
08:40 게임(도신 조기회) ==> 4게임 함
11:50 종료
12:00 중식(콩국수: 서울식당): 조기회에서 쏨
13:30 귀가
14:30 낮잠
17:00 기상
18:30 대림역 -> 서울대입구역
19:30 석식(고기 부페): 루옌, 수종, 장인
20:00 종료
21:00 귀가
23:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.13(월) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:00 ~ 21:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 사용자관리 ==> 협력업체 조회, 관리조직 조회, 비밀번호 초기화
==============================================================================================================

- 2011년 대림3동 조기회 회비 송금
1. 우리은행 1002-645-302429, 예금주: 황재식
2. 2016년 3월 ~12월 ==> 18만원(9개월: 월 2만원)
==============================================================================================================

- 어린이집 납부금 송금 
1. 특기 수업(2016년 6월분, 45,000원)
2. 5월 현장 학습비(17,000원 = 11,000원 + 6,000원)
==> 총 62,000원
==============================================================================================================

- grid 정의
var cRow = grd_usrMngmList.getFocusedRowIndex();		//현재행
$w.log("[/CM_UsrMngm.xml] [btn_pwReset_onclick()] ==> [비밀번호 초기화 처리] [cRow]"+ cRow );  

dlt_usrMngmList.setCellData(cRow , "pwResetYn" , "Y" );
$w.log("[/CM_UsrMngm.xml] [btn_pwReset_onclick()] ==> [비밀번호 초기화 처리] [비밀번호 초기화 여부]"+ 
dlt_usrMngmList.getCellData(cRow, "pwResetYn") +"[dlt_usrMngmList.getRowData(cRow)]"+ dlt_usrMngmList.getRowData(cRow) );  
------------------------------------------------------------------------------------------------

- 부서목록 조회(관리조직 조회)
SELECT /* kr.co.fila.cm.dao.CommUDCDao.selectUsrMngmList - 부서목록 조회(/CommUDC_sqlmap.xml) */    
               DEPT_CD            AS DEPT_CD
             , DEPT_NM_1          AS DEPT_NM
             , DEPT_LV            AS DEPT_LV
          FROM CM_DEPT_H    /* 부서이력 */
         WHERE 1=1
           AND BUKRS =  'F100' /**P*/    /* ARG : 법인코드 */
           AND APLT_STRT_DD     <=  TO_CHAR(SYSDATE,'YYYYMMDD')
           AND APLT_END_DD      >=  TO_CHAR(SYSDATE,'YYYYMMDD') 
         ORDER BY DEPT_CD
                , DEPT_LV
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.14(화) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 22:00 ==> 휠라K 안재우 부장과 LG CNS 임원이 전화로 싸움(일정, 개발 본수), 조대표님 방문

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 개발 완료
==============================================================================================================
 
-  java.lang.OutOfMemoryError: PermGen space  error
1. 현상: java.lang.OutOfMemoryError: PermGen space
2. 원인: *java.lang.OutOfMemoryError: PermGen space - Permenant Generation이 가득찼다.
	  톰캣을 사용하다 보면 웹 어플리케이션을 너무 많이 업데이트 하거나 reload한 것이 원인
3. 조치:
 1). tomcat서버 클릭 
 2).OvenView -> Open launch configuration 클릭 
 3). Arguments -> VM arguments: -Xmx512m -Xms512m -XX:PermSize=256m -XX:MaxPermSize=256 -XX:NewSize=128m 추가 
(-Xms512m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=128m)

Arguments: 
-Dcatalina.base="C:\FilaKoreaERP\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp1" 
-Dcatalina.home="C:\FilaKoreaERP\bin\apache-tomcat-7.0.54"
-Dwtp.deploy="C:\FilaKoreaERP\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\wtpwebapps" 
-Djava.endorsed.dirs="C:\FilaKoreaERP\bin\apache-tomcat-7.0.54\endorsed"
-DWEBSQUARE_HOME="C:\FilaKoreaERP\workspace\FilaKoreaERP\FilaKoreaERP.web-resources\src\main\webapp\websquare_home" 
-Xms512m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=128m
==============================================================================================================

- WebSquare5 로그  디버깅(크롬에서)
debugger;   --> Crome > F12 > debugging 화면(새창): Sources, Console
==============================================================================================================

- onclick 함수 호출
<xf:group class="w2tb-th" tagname="th">팀</xf:group> 
<xf:group class="w2tb-td" tagname="td" style=""> 
<w2:ih_select_commcd_atc
	id="sbx_teamCd" chooseOption="true" chooseOptionLabel="-전체-"
	displayMode="label" displayType="1" grpCd="002" jobGbn="SM" ev:onclick="scwin.sbx_teamCd_onclick"
	ref="" style="width: 130px;" 
	submenuSize="auto" syncYn="2"  valNum="a">  
</w2:ih_select_commcd_atc> 
</xf:group> 
-------------------------------------------------------------------------------------------------------

/**
 * 팀코드 Select Box onclick
 */
scwin.sbx_teamCd_onclick = function() { 
	$w.log("[/CM_UsrMngm.xml] [sbx_teamCd_onclick()] ==> [팀코드 Select Box onclick ■■■■■] [TEST_01] [nGridCnt]"+ nGridCnt );
	 
	$w.log("[/CM_UsrMngm.xml] [sbx_teamCd_onclick()] ==> [팀코드 Select Box onclick] [TEST_01]" );
	
	scwin.grd_usrMngmList_oncellclick();	 // 팀코드 Grid에 셋팅 함수 호출  
};
==============================================================================================================

- TV(LG 55LM6100) 팜
1. 수종이가 고장낸 TV(LG 55LM6100) 루옌이 2천원 주고 중고상에 팜
==============================================================================================================
 
■■■■■■■■■■■■■■■■■■ 2016.06.15(수) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00 ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자관리
1. 개발서버 적용, 테스트 요청
==============================================================================================================

- WebSquare5 로그(크롬에서)
1. Crome > F12 > debugging 화면(새창): Sources, Console
2. debugger;
3. Network
-------------------------------------------------------------------------------------------------------

- 자바스크립트 크롬 브라우저로 디버깅 하는 방법
http://mainia.tistory.com/2801
==============================================================================================================

- 메뉴 등록
1. 프로그램관리(/CM_PgMngm.xml.xml) > 2. 메뉴관리(/CM_MenuMngm.xml) > 3. 권한그룹프로그램권한(/CM_AuthGrpPgAuth.xml) 
==============================================================================================================

- 이클립스 실행시 workspace in use or cannot be created 에러 발생
1. 현상: workspace in use or cannot be created, choose a different one 
2. 조치
 1) eclips 프로세스를 강제로 종료 시키거나  
 2) workspace/.metadata 폴더의 .lock 파일 삭제
==============================================================================================================

- 장인 허리 디스크로 병원 방문(09:45)
1. 명지 성모 병원 예약(1정형외과) 
2. 엑스레이 촬영(1년 전과 같다고 함) ==> 조제, 물리치료(주 4회)
2. 6월 29일(수)에 다시 오라고 함.
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.16(목) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00 ==> 조홍진 사원 투입, 김종태 부장이 껌 씹어서 말싸움 함(사장에게 메일 보냄)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자별 법인브랜드창고권한(/CM_UsrBukrsBrndWrhsAuth.xml) 수정
==============================================================================================================

- PuTTY로 접속하여 개발서버(172.16.41.114)에 접속(계정명: scmadm / !dlatl00)
[fkerpdev(scmadm):/home/scmadm]
$ slog.sh
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
        LC_ALL = (unset),
        LC__FASTMSG = "true",
        LANG = "KO_KR.UTF"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
--------------------------------------
    52659 Jun 16 09:13 ( 1) /log/jboss/was/SCM/access_log.2016-06-16		==> 1번(SCM jboss access log) @@@  
 13132896 Jun 16 09:13 ( 2) /log/jboss/was/SCM/server.log				==> 2번(SCM server log) @@@  --> 주로 2, 4번 사용할 것

      408 Jun 16 08:56 ( 3) /log/jboss/was/POS/access_log.2016-06-16
  7496467 Jun 16 08:55 ( 4) /log/jboss/was/POS/server.log

     8056 Jun 16 09:12 ( 5) /log/jboss/was/SRM/access_log.2016-06-16
  7578777 Jun 16 09:11 ( 6) /log/jboss/was/SRM/server.log

   625936 Jun 16 09:13 ( 7) /log/apache/web/SCM/access_log.20160616
     7019 Jun 16 09:12 ( 8) /log/apache/web/SCM/error_log.20160616
     7890 Jun 16 08:55 ( 9) /log/apache/web/POS/access_log.20160616
      209 Jun 16 08:55 (10) /log/apache/web/POS/error_log.20160616
     7732 Jun 16 09:12 (11) /log/apache/web/SRM/access_log.20160616
-----------------------------------   tail -f : (1-9)   view : (1-9 v/V)   Exit : (0/q/Q/CTRL-D/exit)
What will you do ? : 
 
[fkerpdev(scmadm):/home/scmadm] cd /log/jboss/was/SCM
[fkerpdev(scmadm):/home/scmadm] tail -f access_log.2016-06-16
 
[fkerpdev(scmadm):/home/scmadm] cd /log/jboss/was/SCM
[fkerpdev(scmadm):/home/scmadm] tail -f server.log
==============================================================================================================

- putty 환경 설정(한글용 사용)
1. PuTTY 설정(새창) > Session(세션) 
 1) Session Name(E): 01. 개발S[FilaK]
 2) Host Name(or IP address): 172.16.41.114, Port: 22 
 
2. PuTTY 설정(새창) > Window(창)
 1) 창 크기 조절 ==> 가로(M): 270, 세로(R): 75
 2) 이전화면 저장 줄 수(S): 100000
2-1. PuTTY 설정(새창) > Window(창) > 모양
 1) 글꼴 설정 > Change > 글꼴(새창)
  가. 글꼴(F): 돋움체, 보통, 10, 스크립트(R): 한글
  2) 별도 유니코드 글꼴 사용(F): 체크 안함
2-2. PuTTY 설정(새창) > Window(창) > Translation(변환)
 1) 수신한 데이터를 이 문자셋으로 가정(R): UTF-8

3. PuTTY 설정(새창) > Connection(접속)
3-1. PuTTY 설정(새창) > Connection(접속) > Data(데이터)
 1) 자동 로그인 사용자(U): scmadm 
3-2. PuTTY 설정(새창) > Connection(접속) > SSH > Auth(인증)  ==> 사용 안함 @@@
 1) 인증 개인키 파일(K): .ppk[Browse] 
--------------------------------------------------------------------------------------------------------

[fkerpdev(scmadm):/home/scmadm]
$ echo $LANG     ---> 개발 서버의 언어 정보 확인 @@@@
KO_KR.UTF 

What will you do ? : 1
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
        LC_ALL = (unset),
        LC__FASTMSG = "true",
        LANG = "KO_KR.UTF"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
HTTP/1.1 200 168 0.007
==============================================================================================================

- 개발서버
172.16.41.114:10090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#01. 개발S[SCM][♥]
172.16.41.114:11090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#02. 개발S[POS]
172.16.41.114:12090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#03. 개발S[SRM]
==============================================================================================================

- SecureCRT 설치법 및 사용법 
1. scrt513.exe 파일을 실행해서 설치한다 ==> http://blog.naver.com/siwoo9999/220218506265
2. scrt513-tbe.exe 파일을 실행한다 
3. Patch 버튼을 클릭한다 
4. SecureCRT.exe 파일을 찾겠냐는 창이 나오면 "예"를 누른다 
5. SecureCRT.exe 파일 경로를 찾아준다 ( 기본 경로 : C:\Program Files\SecureCRT ) 
6. SecureCRT.exe 파일을 선택하고 확인을 눌러준다. 
7. 끝 
--------------------------------------------------------------------------------------------------

- Automate Logon 사용하기 
1. Session Options --> Connection --> Login Script 
 1) Expect: login, Send: dvpadm 
 2) Expect: Password, Send: dxltb123
----------------------------------------------------------------------

- SecureCRT Terminal 글자 변경, 색 바꾸기(유니코드 변경)
1. Session Options --> Terminal --> Appearance 
 1) Current Color Scheme: Floral White / Dark Cyan[Edit] > OK(클릭)  --> Traditional(사용 안함)
 2) Fonts: 돋움체 10pt, 스크립트(R): 한글 ==> 설정
 3) Character: UTF-8  ==> 설정
  가. Use Unicode line drawing characters ==> 체크 안함  
----------------------------------------------------------------------
 
- SecureCRT 터미널 버퍼 늘리기  
-> Option -> Seccion Option -> Emulator -> Scrollback buffer : 기본 500 에서 32000  값으로(예. 100000)
 -> Options -> Global Options -> General -> Default Session -> Edit Default Settings...
 -> Session Options - Default -> Terminal -> Emulation
 -> Scrollback -> Scrollback buffer: 기본 500 에서 32000  값으로(예. 100000)
==============================================================================================================
 
■■■■■■■■■■■■■■■■■■ 2016.06.17(금) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:30 ==> (주)소프트원 워크샵(18시): 프로젝트 차원에서 전체 불참

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자별 법인브랜드창고권한(/CM_UsrBukrsBrndWrhsAuth.xml) 수정
1. 사용자 정보와 법인 권한 분리, 매장 권한 추가
==============================================================================================================

- WebSquare 에러
1. 현상: 
10:57:25.337 00119 072288 websquare] 작업 도중 오류가 발생하였습니다.
* message     : Cannot read property 'initializeType' of undefined
* stack
    TypeError: Cannot read property 'initializeType' of undefined
2. 원인: DB에서 받아오는 필드와 02. 법인 권한 조회 dataList(dlt_bukrsAuthList) 필드가 안 맞음
3. 조치: 법인 권한 조회 dataList(dlt_bukrsAuthList)  필드 확인
---------------------------------------------------------------------------------------------------------------

 * message     : Cannot read property 'initializeType' of undefined
* stack
    TypeError: Cannot read property 'initializeType' of undefined
    at $W._a._I.select.getData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2166647)
    at $W._a._I.select.setInnerHTML (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2159660)
    at $W._a._f.setInnerHTML (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2092896)
    at $W._a.aR.drawCellData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2070420)
    at $W._a.aR.fastDrawRowData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2066303)
    at $W._a.aR.completiveDrawData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2048464)
    at $W._a.aR.drawData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2045819)
    at $W._a._F.notifyDataChanged (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2032662)
    at $W._a.aX.notifySettedGridData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2498256)
    at $W._j.dataListApiController.broadcast (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:794777)
* caller
    at WebSquare.uiplugin.cellInfo.select.prototype.getData
    at function (td,data,_1e3,_1e4)
    at WebSquare.uiplugin.cellController.prototype.setInnerHTML
    at WebSquare.uiplugin.drawController.prototype.drawCellData
    at WebSquare.uiplugin.drawController.prototype.fastDrawRowData
    at WebSquare.uiplugin.drawController.prototype.completiveDrawData
    at WebSquare.uiplugin.drawController.prototype.drawData
    at function (_67)
    at WebSquare.uiplugin.notifyController.prototype.notifySettedGridData
    at WebSquare.DataCollection.dataListApiController.prototype.broadcast
    at WebSquare.DataCollection.dataController.prototype.setGridData
    ...(omission)
---------------------------------------------------------------------------------------------------------------

[/CmUsrBukrsBrndAuthController.java] [getBukrsAuthList()] @@@@@ ===> [결과 list][{deptCd=1000, deptNm=경영, usrNm=ADMIN-본사, usrId=ADMIN01, bukrs=F100}]
 
<!--// 02. 법인 권한 조회 dataList(dlt_bukrsAuthList) //-->
	<w2:dataList id="dlt_grdMain" baseNode="list" style="" saveRemovedData="true" repeatNode="map">
		<w2:columnInfo>
			<w2:column id="bukrs" dataType="text" name="법인명"></w2:column>
			<w2:column id="usrId" dataType="text" name="사용자ID"></w2:column>
			<w2:column id="usrNm" dataType="text" name="사용자명"></w2:column>
			<w2:column id="deptCd" dataType="text" name="부서코드"></w2:column>
			<w2:column id="deptNm" dataType="text" name="부서명"></w2:column>
		</w2:columnInfo>
	</w2:dataList>
==============================================================================================================

- WebSquare 에러2
1. 현상: 
10:57:25.337 00119 072288 websquare] 작업 도중 오류가 발생하였습니다.
* message     : Cannot read property 'initializeType' of undefined
* stack
    TypeError: Cannot read property 'initializeType' of undefined
2. 원인: grid에 Select 박스 데이타 에러  

3. 조치: Select 박스 공통 함수 추가
	codeParaArr.push( { "dlId": "dlt_bukrsInfo", "grpCd": "0003", "displayType":"3", "jobGbn":"CM" } );	  //법인목록조회 
	cmCommon.getCommonCode( codeParaArr, 2, "scwin.getCommonCode_submitdone" );  // 공통코드 조회 
---------------------------------------------------------------------------------------------------------------

13:34:33.753 00031 016081 websquare] 작업 도중 오류가 발생하였습니다.
* message     : Cannot read property 'initializeType' of undefined
* stack
    TypeError: Cannot read property 'initializeType' of undefined
    at $W._a._I.select.getData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2166647)
    at $W._a._I.select.setInnerHTML (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2159660)
    at $W._a._f.setInnerHTML (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2092896)
    at $W._a.aR.drawCellData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2070420)
    at $W._a.aR.fastDrawRowData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2066303)
    at $W._a.aR.completiveDrawData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2048464)
    at $W._a.aR.drawData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2045819)
    at $W._a._F.notifyDataChanged (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2032662)
    at $W._a.aX.notifySettedGridData (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:2498256)
    at $W._j.dataListApiController.broadcast (http://127.0.0.1:8081/websquare/javascriptPluginAll.wq?w2xType=5&postfix=5.0_1.2181B.20160531.144301_1.6&compression=true:10:794777)
* caller
    at WebSquare.uiplugin.cellInfo.select.prototype.getData
    at function (td,data,_1e3,_1e4)
    at WebSquare.uiplugin.cellController.prototype.setInnerHTML
    at WebSquare.uiplugin.drawController.prototype.drawCellData
    at WebSquare.uiplugin.drawController.prototype.fastDrawRowData
    at WebSquare.uiplugin.drawController.prototype.completiveDrawData
    at WebSquare.uiplugin.drawController.prototype.drawData
    at function (_67)
    at WebSquare.uiplugin.notifyController.prototype.notifySettedGridData
    at WebSquare.DataCollection.dataListApiController.prototype.broadcast
    at WebSquare.DataCollection.dataController.prototype.setGridData
==============================================================================================================

- input box 숫자만 입력 함수
1. 웹스퀘어에서 사용
==============================================================================================================

- Jenkins 빌드 방법
1. Jenkins URL : http://172.16.41.114:23030/jenkins  --> svnadm / svn123
2. 빌드 순서
 1) scm_dev에서
scm_build			---// 개발서버용 소스 빌드
scm_dev_deploy		---// scm 개발서버 배포
pos_dev_deploy		---// pos 개발서버 배포
srm_dev_deploy		---// srm 개발서버 배포
scm_dev_restart		---// scm 개발 Jboss restart
pos_dev_restart		---// pos 개발 Jboss restart
srm_dev_restart		---// srm 개발 Jboss restart
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.18(토) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==> 

- 주말
08:00 기상
08:10 WebSquare 동영상 교육 시청
09:00 종료
10:50 진료(서울가정의학과의원): 수종 감기
11:10 조제(래미안 나나 약국): 수종 감기(장난감 자동차 구입)
11:20 과일(수박, 바나나, 참외): 만 6천원
11:40 귀가  ==> 루옌 관악구 다문화 축제 부채춤 공연 감
12:00 중식 ==> 장인이 준비해줌
15:00 낮잠
17:00 기상
19:40 석식(뼈해장, 3그릇: 양평해장국): 테이크아웃
20:00 석식
23:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.19(일) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==> 

▦ 조기축구
06:00 기상 
06:30 자전거(문영APT -> 대림운동장)
06:40 대림운동장 ==> 자전거 타이어 빵구남(수리비: 만 5천원)
07:00 숏게임
08:00 게임 ==> 4게임 함(아현팀 초청)
	--> 윙배 수비 하면서 상대에게 많이 뚫림
11:30 종료
12:30 중식(막걸리, 김밥, 홍어) ==> 안양 선후FC(박기우 운영위원장님 매제)
14:00 46번 강 고문님 지하 도박장 ==> 탕수육, 비빔국수, 소주 약간 마심
16:30 귀가 ==> 밥 안 먹고 잠
23:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.20(월) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==> 이재현 과장이 일정 못 지켜서 이진우 이사에게 혼남(공통 개발만 하라고 함)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 사용자별 법인브랜드창고권한(/CM_UsrBukrsBrndWrhsAuth.xml) 수정
1. 사용자 정보와 법인 권한 분리, 매장 권한 추가 ==> 완료
==============================================================================================================

- 사용자매장(CM_USR_SHOP)
COMMENT ON COLUMN SCMADM.CM_USR_SHOP.USR_SHOP_SQOR IS '사용자매장순번'; 
COMMENT ON COLUMN SCMADM.CM_USR_SHOP.USR_ID IS '사용자ID'; 
COMMENT ON COLUMN SCMADM.CM_USR_SHOP.BUKRS IS '법인코드'; 
COMMENT ON COLUMN SCMADM.CM_USR_SHOP.SHOP_CD IS '매장코드';
--------------------------------------------------------------------------------------------------

- 사용자매장순번 채번
SELECT NVL(MAX(NVL(USR_SHOP_SQOR, 10000), 0) +1 FROM CM_USR_SHOP 
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.21(화) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==> 자리 옮김(3번째)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 로그인매장포탈(/CM_LginShopPotal.xml) 개발
1. 매장, ID, 패스워드
==============================================================================================================

- 한글입력 방지 처리(/CM_InputBoxTest.xml) 
<xf:group tagname="tr">
	<xf:group class="w2tb-th" style="text-align:right;" tagname="th">사용자명2</xf:group>
	<xf:group class="w2tb-td" tagname="td">
		<xf:input  id="ibx_usrNm2"  ref="" style="width: 130px;" allowChar="A-Z"  ev:onkeyup="scwin.ibx_usrNm2_onkeyup" ></xf:input>
	</xf:group>
</xf:group>
-----------------------------------------------------------------------------------------

/**
 * 한글입력 방지 함수2
*/ 
scwin.ibx_usrNm2_onkeyup = function(e) {   
	var sUsrNm = ibx_usrNm2.getValue();  
 
	var retValue = sUsrNm.replace(/[\ㄱ-ㅎㅏ-ㅣ가-?]/g, '');		  /* 한글입력 방지 */
		
	ibx_usrNm2.setValue(retValue); 
	$w.log("[/CM_UsrMngm.xml] [ibx_usrNm2_onkeyup()] ==> [sUsrNm]"+ sUsrNm +"[retValue]"+ retValue ); 
}; 
---------------------------------------------------------------------------------------------------

//스타일코드명 keyUp이벤트
scwin.ibx_stylCd_onkeyup = function(e) {
	// a-z일때  ==> 소문자를 대문자로 변경
	if ((e.keyCode >= 65) && (e.keyCode <= 90)) {
		var value = ibx_stylCd.getValue().toUpperCase();
		ibx_stylCd.setValue( value);
	}
};
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.22(수) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 18:00  ==> 프로젝트 전체 회식(통통 와인숙성 삽겹살: PM 처남 소개 해달라고 함)

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 로그인매장포탈(/CM_LginShopPotal.xml) 개발
1. 매장, ID, 패스워드 ==>
==============================================================================================================

- 문의 사항(인스웨이브)
1. 파일 생성 후 뛰우면 404 에러 발생
 1) 현상: W2X 파일을 읽어들이는데 실패했습니다. 경로를 확인하세요. URL [ /wqui/cm/CM_LginShopPotal.xml ]
 2) 원인: F5 누룬 후 제대로 반영 안됨 또는 작업 중이 .xml 파일에 문법 에러 발생
 3) 조치: Servers > [01_★] FilaKoreaERP.SCMsystem-8081 [Stop Republish] --> [Start Synchronized] 
  가. 파일 수정
  나.  /FilaKoreaERP 폴더에서 F5 누룸 --> 서버 시작[Start Synchronized] 되어 있는 지 확인
  다. 로컬 서버에 파일 확인

2. 02. 휠라K ERP 실행 안됨
 1) 현상: :\FilaKoreaERP\websquare_5_32bit\websquare.exe  =
 2) 조치: C:\WebSquare_Server\workspace_02 폴더 생성

3. websquare 글로벌 변수, DS 없음
==============================================================================================================

- Crome 디버깅
1. NetWork
2. Console
 1) 맨 마지막 줄
> comLib.getSessionInfo()  --> 엔터
==============================================================================================================

- POS 로컬 로그인
http://localhost:8082/websquare/websquare.html?w2xPath=/wqui/cm/CM_LginShopPotal.xml#81. 로컬S[POS][♥]

- SCM 로컬 로그인
http://localhost:8081/websquare/websquare.html?w2xPath=/wqui/cm/CM_LginShopPotal.xml#01. 개발S[SCM][♥]

- SCM 개발 로그인
http://172.16.41.114:10090/websquare/websquare.html?w2xPath=/wqui/cm/CM_LginShopPotal.xml#01. 개발S[SCM][♥]

- SCM 개발
http://172.16.41.114:10090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#01. 개발S[SCM][♥]

- POS 개발
http://172.16.41.114:11090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#02. 개발S[POS] 
==============================================================================================================

/**
 * 전체 공통 코드 데이터를 요청한다.
 * 
 * @date 2014. 12. 10.
 * @memberOf comLib
 */
comLib.getAllCode = function() {
    var option = {action : "code/getCodeList", success : "comLib.setAllCodeCallback", isShowMeg : false};
    ajaxLib.executeAjax(option);
};
==============================================================================================================
 
- 리포트(Report) 툴 교육(14시 ~ 15시)
0. 클립 소프트(사용 예정)  ==> http://clipsoft.co.kr/wp/clip-report/overview
1. 유비 리포트(UBI Report) --> http://www.ubireport.com
2. ML 리포트
3. OZ 리포트
4. RD 리포트
5. 리포트 디자이너
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.23(목) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==>  

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 로그인매장포탈(/CM_LginShopPotal.xml) 개발
1. 매장(매장코드), 사번(매장로그인ID ), 패스워드 ==> 완료
==============================================================================================================

- 웹스퀘어 화면간 정보 전달(공유/유지) 방법
1. localStorage.setItem("loginSucYn", "Y");  // 사용이 끝나면 반드시 삭제 필요  
==> $w.local.setItem("loginSucYn", "Y"); 	// 로그인 성공 여부 
2. sessionStorage.setItem("loginSucYn", "Y");
==============================================================================================================

- 세션 에러가 날 경우 @@@@
1. 현상: 
kr.co.fila.common.exception.SessionException: 세션 인증 실패
	at kr.co.fila.common.session.SessionUtil.getSession(SessionUtil.java:104) ~[FilaKoreaERP.common-bl-1.0.0.jar:?]
	at kr.co.fila.common.session.SessionUtil.setSessionInfoParameters(SessionUtil.java:233) ~[FilaKoreaERP.common-bl-1.0.0.jar:?]
	at kr.co.fila.websquare.adapter.CustomWqArgumentResolver.resolveArgument(CustomWqArgumentResolver.java:78) ~[FilaKoreaER
2. 조치: 
- /CustomWqArgumentResolver.java 파일에서 @@@
@Override
public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest 
webRequest, WebDataBinderFactory binderFactory) throws Exception {
 
	RequestAdapter reqAdapter = new RequestAdapter();
	HttpServletRequest httpServletRequest = webRequest.getNativeRequest(HttpServletRequest.class);
	
	// 2016.03.14, By Lioneyes, 파라메타에 세션 파라메타 매핑처리
	@SuppressWarnings("unchecked")
	Map<String, Object> map = (Map<String, Object>)reqAdapter.convert(httpServletRequest);
 
	String ctrllPath = httpServletRequest.getServletPath().toString();
	logger.debug("\n\n[/CustomWqArgumentResolver.java] [resolveArgument()] @@@@@ ===> [ctrllPath]"+ ctrllPath );  
	
	if("/cmLogin/getLoginHdof.do".equals(ctrllPath) || "/cmLogin/getShopPotalLogin.do".equals(ctrllPath) 
			|| "/cmLogin/getLoginVndrMbl.do".equals(ctrllPath) ){  // 로그인이면(setSessionInfoParameters() 함수 호출 제외)  
			--> /cmLogin/getLogin.do
		return map;
	}
	sessionUtil.setSessionInfoParameters(map, httpServletRequest);
	
	return map;
}
==============================================================================================================

- localStorage 사용(global 변수 처럼 사용)
$w.local.setItem( keyName, value );		// localStorage에 key와 value로 이루어진 데이터(item)를 저장  	
- String keyName 저장 할 key,	- String value 저장 할 value  
$w.local.getItem( keyName )  //LocalStorage에서 keyName에 해당하는 값을 반환
- String keyName 저장 한 key 값
==============================================================================================================

-- 프로그램 권한 처리 
00. 권한그룹프로그램권한  ==> 권한그룹 등록, 프로그램권한 저장
01. 권한그룹관리(/CM_AuthGrpMngm.xml)  ==> 권한그룹 선택, 사용자 등록
02. 사용자프로그램권한(/ CM_UsrPgAuth.xml) ==> 사용자에 대한 권한 부여
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.24(금) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 23:00  ==>  

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 로그인(본사)(/CM_LoginHdof.xml) 개발
1. ID(사용자ID), 패스워드 ==> 완료
2. websquare에서 port 확인 함수
3. Main 화면 호출
==============================================================================================================
 
- 로그인(협력업체/모바일)(/CM_LoginVndrMbl.xml) 개발 
1. ID(사용자ID), 패스워드 ==> 완료
==============================================================================================================

- Session 처리
cmCommon.getSession("BRND_INFO");	// 브랜드 코드 정보(Session) 가져 오기
SESSION_INFO.get( "BRND_INFO" );		// 브랜드 코드 정보(Session) 가져 오기[iframe에서: uickmenu.xm]
==============================================================================================================

- jquery 조회
1.  jquery location로 조회할 것
2. websquare에서 port 확인 함수 ==> sPort = $(location).prop("port");   
==============================================================================================================

- 메인 화면 호출 @@@
/quickmenu.xml 파일에서 @@@
/**
 * 메뉴조회후 Call Back
 */
scwin.submission1_submitdone = function(e) {
	//$w.log("dlt_cmLeftMenuList.getTotalRow() >>>>>>>>>>>>>>>["+dlt_cmLeftMenuList.getTotalRow()+"]");
	//$w.log("[/quickmenu.xml] [submission1_submitdone()] ==> [조회 후 callback 이벤트] [조회 결과 - 건 조회]"+ 
	dlt_usrMngmList.getTotalRow() +"[dlt_usrMngmList.getAllData()]"+ dlt_usrMngmList.getAllData() ); 
	//$w.log("[/quickmenu.xml] [submission1_submitdone()] ==> [usrNm]"+ dlt_usrMngmList.getCellData(0, "usrNm") 
	+"[usrNmTeam]"+ dlt_usrMngmList.getCellData(0, "usrNmTeam") +"[lginDttm]"+ dlt_usrMngmList.getCellData(0, "lginDttm")  ); 
	//$w.log("[/quickmenu.xml] [submission1_submitdone()] ==> [조회 후 callback 이벤트] [조회 결과 - 건 조회] 
	[e.responseText]"+ e.responseText ); 
  
	// 공통코드 페이지 오픈(이동)
	//Var params = {brndCd:strBrndCd, usrId:strUsrId, userGbn:'01'};
	//var params = "";
	//cmCommon.goToPage("CM1010", params);
	
//				var menuNm = this.getValue(); 
//				var menuId = this.getUserData("menuId");
//				var url = this.getUserData("pgUrl");
	
	var menuNm = "현금 매출 내역";
	var menuId = "SP2010";
	var url = "/wqui/sp/SP_CashSleInqr.xml";
	
	if(url.trim() != '') {
		scwin._addTab(menuNm, menuId, url);		// 메인 화면 호출 @@@
	} 
};
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.25(토) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==> 생일, 휠라 코리아 차세대 통합ERP Prj: 사무실 자리 늘이기 공사(6자리씩 늘어남)

- 주말
08:00 기상
08:10 jQuery 동영상 교육 시청
09:00 종료
10:50 자전거 타이어 뒷 바퀴 바람 빠져 있음
11:10 대림역 자전거 빵(타이어 주부 아답타에서 바람 센다고 함)
==> 타이버, 주부 모두 교체(2만원): 주부 교체: 만원
11:30 조제(래미안 나나 약국): 수종 감기(장난감 자동차 구입) 
11:40 귀가
12:00 중식
15:00 낮잠
17:00 기상
18:30 집출발
18:40 대림역 -> 신림역
20:00 석식(밥, 오므라이스, 피자, 레스토랑): 루옌이 쏨
20:30 다이소 신림점
21:00 귀가
21:30 생일 파티(케익)
23:00 취침
==============================================================================================================

- jQuery 교육
1. jQuery 교육 사이트 ==> http://www.w3schools.com/jquery/default.asp
2. jQuery 테스트 ==> http://jsfiddle.net
==============================================================================================================

- 윈도우 원격 연결(원격제어)
1. 실행 > 열기(O): MSTSC   ==> 확인(클릭)
2. \\172.168.110.41   ==> Administrator / asas1212
http://blog.naver.com/reinstate10/2201598882362015-08-24
==============================================================================================================

- [삼성전자] 노트북 DDR4 16G PC4-17000 (정품)
http://www.joyzen.co.kr/product/sInfo.html?fid=1&uid=40&Pnum=267850&optsid=ENR
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.26(일) 작업 ■■■■■■■■■■■■■■■■■■
---> 07:40 ~ 18:10 ==>   

▦ 조기축구
05:00 기상
05:10 유로 2016 16강전(크로아티아 0:1 포르투갈) 
07:10 자전거(문영APT -> 대림운동장)
07:20 대림운동장 
08:00 게임 ==> 3게임 함(신길5동팀,  영등포팀 --> 2팀 초청)
		--> 골기퍼 보면서 쉬운 공 못 잡아 골 먹음
11:50 종료
12:30 중식(돈까스, 큰집 추어탕): 수석 부회장님이 쏨
14:00 자전거 나무에 세워 놓았는데 앞 바퀴가 브레이크에 닫아서 안 움직임
14:20 자전방에 가서 따짐(열 받아서 저번주 부주 비용(만 5천원) 변상 받음)
14:30 수박, 참외(남구로 시장)
15:00 귀가
17:30 기상
20:00 석식(뼈해장, 3그릇: 양평해장국): 테이크아웃 
23:00 취침
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.27(월) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==> 

- 휠라 코리아 차세대 통합ERP Prj[★] 
- 로그인 세션 처리 수정
1. 최초 세션 처리 중지
2. DB 로그인 후 조회값으로 세션 설정
3. 세션 타입 24시간으로 설정 ==> TEST용
==============================================================================================================
 
- 공통 응용 기능 담당자 할당 프로그램 @@@
1. 사용자관리(/CM_UsrMngm.xml)
2. 프로그램관리(/CM_PgMngm.xml)
3. 권한그룹프로그램권한(/CM_AuthGrpPgAuth.xml)  
4. 사용자별법인브랜드매장관리(/CM_UsrBukrsBrndWrhsAuth.xml)
5. 사용자프로그램관리(/CM_UsrPgAuth.xml)
==============================================================================================================

- 개발, 로컬 서버에서 console 로그 적용 처리
1. 현상: Synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the 
end user's experience. For more help, check https://xhr.spec.whatwg.org/.
2. 조치: /config.xml 파일에서
<!-- 운영 --> 
<!--  <debug value="true" remoteConsole="false"/> -->

<!-- 개발 --> 
<debug value="true" console="true" remoteConsole="false"/> <!-- 개발, 로컬 서버에서 console 로그 적용 처리 -->    
==============================================================================================================

- 개발, 로컬 서버에서 chche 바로 적용 처리
1. 현상: 로컬서버에서 소스 적용 후 반영이 바로 안 됨
2. 조치: /config.xml 파일에서
<!-- 운영 --> 
<!--  <environment mode="production" cache="cache" postfix="day"/> -->

<!-- 개발 --> 
<environment mode="production" cache="nocache" postfix="day"/>	  <!-- 개발, 로컬 서버에서 chche 바로 적용 처리 -->    
==============================================================================================================

- 크롬 브라우저 캐시삭제 방법
1. 크롬을 실행시킨 후 ctrl+alt+del 을 동시에 눌러주세요! 
2, 그다음 다음 이미지와 같이 설정한 다음에 인터넷정보 삭제 하시면 언라이트가 정상적으로 접속 되실거에요.
==============================================================================================================

- 세션 체크 제외
1. /CustomWqArgumentResolver.java 파일에서
@Override
public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, 
	NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {
	//logger.debug("\n\n[/CustomWqArgumentResolver.java] [resolveArgument()] @@@@@ ===> [TEST_01]" );  
 
	RequestAdapter reqAdapter = new RequestAdapter();
	HttpServletRequest httpServletRequest = webRequest.getNativeRequest(HttpServletRequest.class);
	
	// 2016.03.14, By Lioneyes, 파라메타에 세션 파라메타 매핑처리
	@SuppressWarnings("unchecked")
	Map<String, Object> map = (Map<String, Object>)reqAdapter.convert(httpServletRequest);
	 
	String ctrllPath = httpServletRequest.getServletPath().toString();
	logger.debug("\n\n[/CustomWqArgumentResolver.java] [resolveArgument()] @@@@@ ===> 
	파라메타 map에 세션 자동 추가 함수 호출 여부] [ctrllPath]"+ ctrllPath );  
	
	if("/cmLogin/getLoginHdof.do".equals(ctrllPath) || "/cmLogin/getShopPotalLogin.do".equals(ctrllPath) 
		|| "/cmLogin/getLoginVndrMbl.do".equals(ctrllPath) || "/main.do".equals(ctrllPath) 
		|| "/cm/usrMngInfo.do".equals(ctrllPath) ) {  // 해당 URL에서 왔으면(setSessionInfoParameters() 함수 호출 제외) 
		return map;
	}
	
	logger.debug("\n\n[/CustomWqArgumentResolver.java] [resolveArgument()] @@@@@ ===> [파라메타 map에 세션 자동 추가 함수 호출  ===>]" );  
	sessionUtil.setSessionInfoParameters(map, httpServletRequest);	// 파라메타 map에 세션 자동 추가 함수 호출
	
	return map;
}
==============================================================================================================

- null 처리 함수(JAVA에서)
/**
* str이 null 이거나 "", "    " 일경우 return true
* @param str
* @return
*/
public static boolean isNull(String str) {
	return (str == null || (str.trim().length()) == 0 );
}

public static boolean isNull(Object obj) {
	String str = null;
	if( obj instanceof String ) {
	str = (String)obj;
	} else {
	return true;
	}
	return isNull(str);
}

if(isNull(sess) == false) {   // NULL이 아니면 
	sessionUtil.setSession(request, sess);		// 세션 정보 저장
}
==============================================================================================================

■■■■■■■■■■■■■■■■■■ 2016.06.28(화) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 20:40  ==> 개발자 회의(전태욱 이사가 야근하고 주말 출근하라고 함)

- 휠라 코리아 차세대 통합ERP Prj[★]
- 모바일인증관리(/CM_MblCertMngm.xml) 개발  ==> 완료
1. 사용자IP, 사번, 레지스트리 번호   ==> Active X 기술 적용 분석...
 1) LTERM_CERT_STTS_CD IS '장기인증상태코드';
==============================================================================================================
 
■■■■■■■■■■■■■■■■■■ 2016.06.29(수) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==> 

- 휠라 코리아 차세대 통합ERP Prj[★]
- 모바일접속현황(/CM_MblCnncStat.xml) 개발
1. 로그 아웃 정보 저장 처리 	
/**
 * 로그아웃 요청 처리 
 */
@RequestMapping("/cmLogin/getHdofLogOut.do")  
public ModelAndView getHdofLogOut(Map<String, Object> param, HttpServletRequest request) throws Exception
{       
	ModelAndView mav = new ModelAndView("wqView"); 
 
	service.saveLogOutInfo(paramMap, request);		// 로그 아웃 정보 DB 저장
	 
	/***** 세션 무효화 *****/
	sessionUtil.removeSession(request);		
	ModelAndView mv = new ModelAndView("wqView");
	logger.debug("\n\n[/CmLoginHdofController.java] [getHdofLogOut()] @@@@@ ===> [로그아웃 요청 처리] [TEST_end]" );  
	
	return mv;
} 
==============================================================================================================

- LGIN_DTTM, LGOUT_DTTM 필드 추가
COMMENT ON COLUMN SCMADM.CM_LGIN_INFR.LGIN_DTTM IS '로그인일시';
COMMENT ON COLUMN SCMADM.CM_LGIN_INFR.LGOUT_DTTM IS '로그아웃일시';
--------------------------------------------------------------------------------------------

-- 로그인정보 조회 @@@@
SELECT *    
FROM CM_LGIN_INFR A        /* 로그인정보 TB */   =====> 세션정보조회에서 사용 ==> USR_IP(사용자IP)
WHERE 1 = 1
   -- AND A.USR_ID =  'ADMIN01'       -- 사용자ID(tamario, 2074028)
; 
==============================================================================================================

-  로그인 시에 세션ID를 random하게 토큰값으로 생성(JAVA에서)
/**
 * 로그인 처리 
 */
public void processLogin(Map<String, String> map, SessionToken sessionToken, HttpServletRequest request) 
{ 
	String usrIP = "";
	InetAddress ip;
	 
	  try { 
		ip = InetAddress.getLocalHost();    // IP 주소
		usrIP = ip.getHostAddress(); // IP 주소 형변환 
	  } catch (UnknownHostException e) { 
		  //e.e.printStackTrace(); 
	  }  
	  logger.debug("\n\n[/CmLoginHdofService.java] [processLogin()] @@@@@ ===> [usrIP]"+ usrIP );  
		  
	  map.put("usrIP", usrIP);   	// 사용자IP

	 TokenUtil.saveToken(request);	/* Token 생성 */  
 
	sSssnId = TokenUtil.getSessionString(request);		/*  생성된 토큰값 가져오기 */ 
	map.put("sssnId", sSssnId);   	// 세션ID  
	logger.debug("\n\n[/CmLoginHdofService.java] [processLogin()] @@@@@ ===> [생성된 토큰값(sSssnId)]"+ sSssnId +"[usrIP]"+ usrIP );  
	 
	dao.savaLoginInfo(map);// 로그인 정보 저장(DB) 함수 호출

	Map<String, String> sessionInfo = this.getSessionInfo(map);	// 세션정보 가져오기 함수 호출 
	logger.debug("\n\n[/CmLoginHdofService.java] [processLogin()] @@@@@ ===> [sessionInfo]"+ sessionInfo );  
}
-------------------------------------------------------------------------------------------------------------

/**
* 로직처리를 위해 세션과 request에 Token 생성 
* @param request
*/
public static void saveToken(HttpServletRequest request) { 
    	 System.out.println("\n\n[/TokenUtil.java] [saveToken()] @@@@@ ===> [01. Token 생성] [TEST_01]" ); 
    		
    	 HttpSession session = request.getSession(true);
		 long systemTime = System.currentTimeMillis();
		 byte[] time = new Long(systemTime).toString().getBytes();
		 byte[] id = session.getId().getBytes();
		 String token = "";
	  
		 try{
		    MessageDigest sh = MessageDigest.getInstance("SHA-256");   // 단방향 암호화 처리
			sh.update(time); 
			byte byteData[] = sh.digest();
			StringBuffer sb = new StringBuffer(); 
			
			for(int i = 0 ; i < byteData.length ; i++){
			    sb.append(Integer.toString((byteData[i]&0xff) + 0x100, 16).substring(1));
			}
		 
			token = sb.toString();  // 생성된 토큰값
	 
			request.setAttribute(TOKEN_KEY, token);
			session.setAttribute(TOKEN_KEY, token);
	 
			System.out.println("#########################################################################");
			System.out.println("#  생성된 토큰값(64bit): Generate Token Key Value = " + token + " #");
			System.out.println("#########################################################################");
			    
		} catch(NoSuchAlgorithmException e) {
		    e.printStackTrace(); 
		    token = null; 
		} 
	}

- 처리 결과 @@@@
===>  생성된 토큰값(64bit): Generate Token Key Value = 1a4aad5d9371cb464da04e2f504df3b73653601d4266e7398975c928a217915f #
==============================================================================================================

- JAVA 세션(session)에 값 넣기 및 가져오기
public String login(HttpServletRequest req) { 
	//세션에 값 넣기 
	req.getSession().setAttribute("ID", "test");
  
	//세션에서 값 가져오기 
	String ID = req.getSession().getAttribute("ID").toString(); 
	String ID = (String)req.getSession().getAttribute("ID");  
}
==============================================================================================================

- 로그인 수정 요청(POS 고민경 차장)
1. 로그인 3개 파트 세션이 분리 
2. 아이디 입력 후 엔터로 조회
==============================================================================================================

- 웹스퀘어에서 레지스트리 등록
1. 휠라에서 파워빌더를 이용해서 ActiveX를 사용하여 A/S에 구현 ==> 오브젝트 테그 사용하라고 가이드 받음
==============================================================================================================

- 장인 병원 예약(11:15, 회사)
1. 명지 성모 병원 예약(정형외과) 
==> 고관절 수술: 점액낭염 --> 노동근 과장님(다른 분)과 통화함
1. 정밀검사: MRI(50만원)
2. 수술(양쪽 300만원)
==============================================================================================================

- 고관절 수술
http://gs.iseverance.com/guidance/news/news/view.asp?con_no=28754
==============================================================================================================
  
■■■■■■■■■■■■■■■■■■ 2016.06.30(목) 작업 ■■■■■■■■■■■■■■■■■■
---> 06:30 ~ 21:00  ==> 중식(전체 식사: 이진우 이사님이 쏨), 민형기 이사 투입(수불 담당)

- 휠라 코리아 차세대 통합ERP Prj[★]
- 로그인 로직 수정
1. 세션이 안 끊긴 상태에서 메인 화면 호출 ==> http://localhost:8081/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#none
 1) 세션 조회 후 세션이 존재하면 로그인 사용자목록(세션) 조회 submission 호출 
 ==> JAVA에서 기존 세션과 충돌("세션 인증 실패"라는 에러 띄움)
 --> #{GV_BUKRS}을 #{bukrs}로 변경
2. 세션이 없는 상태에서 메인 화면 호출 ==> http://localhost:8081/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml#none
 1) 세션 조회 후 세션이 없으면 로그인 화면 호출
==============================================================================================================
 
- 세션 타입 설정
session.time	 분(세션) 	 시간(세션) 
3600				60		1  
36000				600		10 
36000				600		10
-------------------------------------------------------------------------------------------------

- /system.properties 에서
### 세션타입설정(default 60초*60분)	// 세션 시간(초) ==> 3600에서 24시간(86400)으로 변경 --> 60분(1시간):3600, 120분(2시간): 7200 ==> TEST @@@ ===> 
session.time=86400
-------------------------------------------------------------------------------------------------

- /SessionUtil.java 에서
public void setSession(HttpServletRequest request, SessionToken sessionToken) 
{        
	HttpSession apiSession = request.getSession(false);

	if (apiSession != null) {
	    apiSession.invalidate();
	}
	apiSession = request.getSession(true);
	int sessionTime= 86400;	// 세션 시간(초) ==> 3600에서 24시간(86400)으로 변경 --> 60분(1시간):3600, 120분(2시간): 7200 ==> TEST @@@ ===> 

	apiSession.setAttribute(CommandAttribute.sessionNm.getName(), sessionToken);		// 세션 설정
	//apiSession.setMaxInactiveInterval(new Integer(props.getsystemPropertiesInfo("session.time")));   // 세션 시간 설정
	apiSession.setMaxInactiveInterval(sessionTime);   // 세션 시간(시) 설정  ==> TEST @@@ ===>  
}
==============================================================================================================

- 처리할 업무
1. 공통 코드(브랜드) 세션 처리
2. 하단 메뉴 DB에 넣기  ==> 완료
==============================================================================================================

- 로그인(로컬S)
81. 로컬S[SCM]
http://localhost:8081/websquare/websquare.html?w2xPath=/wqui/cm/CM_LoginHdof.xml#81. 로컬S[SCM][♥]
82. 로컬S[POS]
http://localhost:8082/websquare/websquare.html?w2xPath=/wqui/cm/CM_LginShopPotal.xml#82 로컬S[POS]
83. 개발S[SRM]
http://localhost:8083/websquare/websquare.html?w2xPath=/wqui/cm/CM_LoginVndrMbl.xml#83. 개발S[SRM]

- 로그인(개발S) ==>  http://172.16.41.114:12090/websquare/websquare.html?w2xPath=/wqui/cm/MDI.xml
01. 개발S[SCM]
http://172.16.41.114:10090/websquare/websquare.html?w2xPath=/wqui/cm/CM_LoginHdof.xml#01. 개발S[SCM]
02 로컬S[POS]
http://172.16.41.114:11090/websquare/websquare.html?w2xPath=/wqui/cm/CM_LginShopPotal.xml#02. 로컬S[POS]
03. 개발S[SRM]
http://172.16.41.114:12090/websquare/websquare.html?w2xPath=/wqui/cm/CM_LoginVndrMbl.xml#03. 개발S[SRM]
==============================================================================================================
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
+--------------------------------------------------------// End //--------------------------------------------------------+
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■